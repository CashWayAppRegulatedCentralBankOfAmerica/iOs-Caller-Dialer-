// account.js
let balance = parseFloat(localStorage.getItem('workhub_balance')) || 0;
let credit = parseFloat(localStorage.getItem('workhub_credit')) || 0;
let transactionType = null;

document.getElementById('balance').textContent = `$${balance.toFixed(2)}`;
document.getElementById('credit').textContent = `$${credit.toFixed(2)}`;

function openModal(type) {
  transactionType = type;
  document.getElementById('modal-title').textContent = `${type === 'deposit' ? 'Deposit Funds' : 'Withdraw Funds'}`;
  document.getElementById('amount-input').value = '';
  document.getElementById('modal').classList.remove('hidden');
  document.getElementById('modal').classList.add('flex');
}

function closeModal() {
  document.getElementById('modal').classList.add('hidden');
  document.getElementById('modal').classList.remove('flex');
}

function submitTransaction() {
  const amount = parseFloat(document.getElementById('amount-input').value);
  if (isNaN(amount) || amount <= 0) {
    alert("Enter a valid amount.");
    return;
  }

  if (transactionType === 'deposit') {
    balance += amount;
  } else if (transactionType === 'withdraw') {
    if (amount > balance) {
      alert("Insufficient balance.");
      return;
    }
    balance -= amount;
  }

  localStorage.setItem('workhub_balance', balance.toFixed(2));
  document.getElementById('balance').textContent = `$${balance.toFixed(2)}`;
  closeModal();
}
